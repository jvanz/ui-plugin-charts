{"version":3,"sources":["webpack://kubewarden-2.0.0/./components/Policies/Create.vue?bae9","webpack://kubewarden-2.0.0/./components/PolicyServer/Values.vue?6f34","webpack://kubewarden-2.0.0/./components/Policies/Values.vue?ab9a","webpack://kubewarden-2.0.0/./components/Policies/Create.vue?87fa","webpack://kubewarden-2.0.0/./components/PolicyServer/Values.vue?091c","webpack://kubewarden-2.0.0/./edit/policies.kubewarden.io.admissionpolicy.vue?704f","webpack://kubewarden-2.0.0/edit/policies.kubewarden.io.admissionpolicy.vue","webpack://kubewarden-2.0.0/./edit/policies.kubewarden.io.admissionpolicy.vue?ac09","webpack://kubewarden-2.0.0/./edit/policies.kubewarden.io.admissionpolicy.vue","webpack://kubewarden-2.0.0/./components/Policies/Config.vue?471f","webpack://kubewarden-2.0.0/components/Policies/Config.vue","webpack://kubewarden-2.0.0/./components/Policies/Config.vue?a1f3","webpack://kubewarden-2.0.0/./components/Policies/Config.vue","webpack://kubewarden-2.0.0/./components/Policies/Create.vue?19bd","webpack://kubewarden-2.0.0/./components/Policies/PolicyGrid.vue?48d4","webpack://kubewarden-2.0.0/components/Policies/PolicyGrid.vue","webpack://kubewarden-2.0.0/./components/Policies/PolicyGrid.vue?d547","webpack://kubewarden-2.0.0/./components/Policies/PolicyGrid.vue","webpack://kubewarden-2.0.0/components/Policies/Create.vue","webpack://kubewarden-2.0.0/./components/Policies/Create.vue?4b5e","webpack://kubewarden-2.0.0/./components/Policies/Create.vue","webpack://kubewarden-2.0.0/./utils/object.ts","webpack://kubewarden-2.0.0/./edit/policies.kubewarden.io.policyserver.vue?59b0","webpack://kubewarden-2.0.0/./components/PolicyServer/Values.vue?4855","webpack://kubewarden-2.0.0/components/PolicyServer/Values.vue","webpack://kubewarden-2.0.0/./components/PolicyServer/Values.vue?97a4","webpack://kubewarden-2.0.0/./components/PolicyServer/Values.vue","webpack://kubewarden-2.0.0/./components/PolicyServer/Create.vue?3435","webpack://kubewarden-2.0.0/components/PolicyServer/Create.vue","webpack://kubewarden-2.0.0/./components/PolicyServer/Create.vue?de79","webpack://kubewarden-2.0.0/./components/PolicyServer/Create.vue","webpack://kubewarden-2.0.0/edit/policies.kubewarden.io.policyserver.vue","webpack://kubewarden-2.0.0/./edit/policies.kubewarden.io.policyserver.vue?e3bc","webpack://kubewarden-2.0.0/./edit/policies.kubewarden.io.policyserver.vue","webpack://kubewarden-2.0.0/./components/PolicyServer/Values.vue?63a7","webpack://kubewarden-2.0.0/./components/Policies/Values.vue?4657","webpack://kubewarden-2.0.0/components/Policies/Values.vue","webpack://kubewarden-2.0.0/./components/Policies/Values.vue?1e0e","webpack://kubewarden-2.0.0/./components/Policies/Values.vue","webpack://kubewarden-2.0.0/./components/Policies/PolicyGrid.vue?6f7d","webpack://kubewarden-2.0.0/./edit/policies.kubewarden.io.clusteradmissionpolicy.vue?5d2d","webpack://kubewarden-2.0.0/edit/policies.kubewarden.io.clusteradmissionpolicy.vue","webpack://kubewarden-2.0.0/./edit/policies.kubewarden.io.clusteradmissionpolicy.vue?4cce","webpack://kubewarden-2.0.0/./edit/policies.kubewarden.io.clusteradmissionpolicy.vue","webpack://kubewarden-2.0.0/./components/Policies/PolicyGrid.vue?a31d","webpack://kubewarden-2.0.0/./components/Policies/Values.vue?1d6c","webpack://kubewarden-2.0.0/./components/Policies/PolicyGrid.vue?2dfd","webpack://kubewarden-2.0.0/./components/Policies/Values.vue?eed9","webpack://kubewarden-2.0.0/./components/Policies/Create.vue?d4d0"],"names":["___CSS_LOADER_API_IMPORT___","exports","push","module","i","content","__esModule","default","locals","add","render","_vm","this","_h","$createElement","_c","_self","attrs","value","mode","realMode","on","finish","staticRenderFns","name","props","type","Object","required","String","_EDIT","components","CruResource","Config","Create","mixins","CreateEditView","provide","chartType","computed","isCreate","_CREATE","methods","event","removeEmptyAttrs","save","e","handleGrowlError","error","store","$store","component","$fetchState","chartValues","yamlValues","_VIEW","Loading","Values","fetch","policy","questions","saferDump","data","hasArtifactHub","_e","staticClass","domProps","_s","t","addArtifactHub","loadingPackages","ref","errors","steps","bannerTitle","typeModule","reset","done","scopedSlots","_u","key","fn","packages","$event","selectType","style","_v","proxy","packageValues","customPolicy","yamlOption","canFinish","model","callback","$$v","expression","providerOptions","provider","keywordOptions","keywords","resourceOptions","category","directives","rawName","target","composing","searchQuery","refresh","_t","_l","subtype","package_id","$emit","hasAnnotation","resourceType","signatures","subtypeSignature","KUBEWARDEN_PRODUCT_NAME","display_name","description","Array","LabeledSelect","query","$route","CATEGORY","SEARCH_QUERY","filteredSubtypes","subtypes","out","filter","_subtype$data","_subtype$data$kubewar","includes","searchTokens","split","map","x","ensureRegex","token","_subtype$display_name","match","selected","_subtype$keywords","_subtype$keywords2","length","p","_subtype$provider","sortBy","_this$value","flattened","flatMap","Set","Boolean","_this$value2","_this$value3","_resources$flatMap","resources","_subtype$data2","annotation","resource","forEach","s","sort","_subtype$data3","undefined","_subtype$signatures","AsyncButton","Banner","ChartReadme","Wizard","PolicyGrid","_this$schema","_this$schema$attribut","_this$schema2","_this$schema2$attribu","_this$schema3","_this$schema3$attribu","getPackages","apiVersion","schema","attributes","group","version","kind","repository","hasCustomPolicy","VALUES_STATE","FORM","stepPolicies","hidden","label","ready","weight","stepReadme","stepValues","isSelected","_this$chartValues","_this$chartValues$pol","_this$chartValues$pol2","YAML","spec","hasRequired","artifactHubWhitelist","_this$chartValues2","_this$chartValues2$po","_this$chartValues3","_this$chartValues3$qu","_this$chartValues3$qu2","rules","settings","requiredRules","acceptedRules","acceptedValues","requiredQuestions","q","variable","acceptedQuestions","isEmpty","_this$type","_this$packages","pkg","find","a","b","requiredProp","requiredKeys","accepted","isArray","prop","checkProperties","values","isEqual","btnCb","updateWhitelist","_this$schema4","$router","replace","params","cluster","product","id","ignoreRancherNamespaces","_this$chartValues4","set","matchExpressions","NAMESPACE_SELECTOR","jsyaml","load","merge","console","artifactHubRepo","promises","packageDetails","Promise","all","_pkg$data","warn","artifactHubPackage","policyQuestions","_policyDetails$data","defaultPolicy","structuredClone","DEFAULT_POLICY","updatedCustomPolicy","contextAwareResources","policyDetails","_this$type2","packageQuestions","parsePackageMetadata","packageAnnotation","parseAnnotation","obj","_policyDetails$data2","determineAnnotation","_policyDetails$data3","JSON","parse","updatedPolicy","metadata","annotations","ARTIFACTHUB_PKG_ANNOTATION","containers_images","image","mutating","$nextTick","_event$step","step","initialState","_this$chartValues5","_this$chartValues5$po","isCustom","$set","REPO","REPO_TYPE","CHART","$refs","wizard","next","keys","isObject","tabChanged","valuesComponent","tag","componentValue","Tabbed","configValues","loadValuesComponent","showQuestions","showValuesComponent","haveComponent","importComponent","window","scrollTop","doneRoute","generateYaml","DEFAULT_POLICY_SERVER","cloned","clone","dump","YAML_OPTIONS","showForm","originalYamlValues","editorMode","updateYamlValues","currentYamlValues","preYamlOption","ButtonGroup","ResourceCancelModal","YamlEditor","artifactHubPackageVersion","getters","repoType","repoName","chartName","KUBEWARDEN_CHARTS","CONTROLLER","watch","neu","old","EDITOR_MODES","EDIT_CODE","_this$yamlValues","inStore","schemas","SCHEMA","createYaml"],"mappings":"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","file":"kubewarden-2.0.0.umd.min.edit.js","sourcesContent":["// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".clearfix[data-v-7912d636]:after,.clearfix[data-v-7912d636]:before{content:\\\" \\\";display:table}.clearfix[data-v-7912d636]:after{clear:both}.list-unstyled[data-v-7912d636]{margin:0;padding:0;list-style-type:none}.no-select[data-v-7912d636]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-7912d636]{resize:none}.hand[data-v-7912d636]{cursor:pointer;cursor:hand}.fixed[data-v-7912d636]{table-layout:fixed}.clip[data-v-7912d636]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-7912d636],.force-wrap[data-v-7912d636]{word-wrap:break-word}.force-wrap[data-v-7912d636]{white-space:normal}.bordered-section[data-v-7912d636]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-7912d636]{margin-bottom:20px;margin-top:20px}[data-v-7912d636] .step-container{height:auto}[data-v-7912d636] .header .step-sequence{display:block}[data-v-7912d636] .header .step-sequence .steps .divider{top:22px}[data-v-7912d636] .controls-row .controls-steps{display:flex}[data-v-7912d636] .custom{min-height:110px}[data-v-7912d636] .subtype{height:110px;margin:10px;position:relative;border-radius:calc(var(--border-radius)*1.5);border:1px solid var(--border);text-decoration:none!important;color:var(--body-text)!important}[data-v-7912d636] .subtype:hover:not(.disabled){box-shadow:0 0 30px var(--shadow);transition:box-shadow .1s ease-in-out;cursor:pointer;text-decoration:none!important}[data-v-7912d636] .subtype__metadata{padding:10px}[data-v-7912d636] .subtype__metadata__description,[data-v-7912d636] .subtype__metadata__label{padding-right:20px}[data-v-7912d636] .subtype__badge{position:absolute;right:0;top:0;padding:4px 5px;border-bottom-left-radius:var(--border-radius)}[data-v-7912d636] .subtype__badge label{font-size:12px;line-height:12px;text-align:center;display:block;white-space:no-wrap;text-overflow:ellipsis;color:var(--app-rancher-accent-text);margin:0}[data-v-7912d636] .subtype__label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:4px;line-height:normal}[data-v-7912d636] .subtype__description{margin-right:10px;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3;line-clamp:3;overflow:hidden;text-overflow:ellipsis;color:var(--input-label)}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Values.vue?vue&type=style&index=0&id=d203183e&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"6afde5ee\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Values.vue?vue&type=style&index=0&id=7ef7a36c&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"c159d8f2\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Create.vue?vue&type=style&index=0&id=7912d636&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"663bff81\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Values.vue?vue&type=style&index=0&id=d203183e&prod&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isCreate)?_c('Create',{attrs:{\"value\":_vm.value,\"mode\":_vm.mode}}):_c('CruResource',{attrs:{\"resource\":_vm.value,\"mode\":_vm.realMode},on:{\"finish\":_vm.finish}},[_c('Config',{attrs:{\"value\":_vm.value,\"mode\":_vm.realMode}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { _CREATE, _EDIT } from '@shell/config/query-params';\nimport CreateEditView from '@shell/mixins/create-edit-view';\n\nimport CruResource from '@shell/components/CruResource';\nimport { removeEmptyAttrs } from '../utils/object';\nimport { handleGrowlError } from '../utils/handle-growl';\n\nimport Config from '../components/Policies/Config';\nimport Create from '../components/Policies/Create';\n\nexport default {\n  name: 'AdmissionPolicy',\n\n  props: {\n    value: {\n      type:     Object,\n      required: true\n    },\n\n    mode: {\n      type:    String,\n      default: _EDIT\n    },\n\n    realMode: {\n      type:    String,\n      default: _EDIT\n    }\n  },\n\n  components: {\n    CruResource, Config, Create\n  },\n\n  mixins: [CreateEditView],\n\n  provide() {\n    return { chartType: this.value.type, realMode: this.realMode };\n  },\n\n  computed: {\n    isCreate() {\n      return this.realMode === _CREATE;\n    },\n  },\n\n  methods: {\n    async finish(event) {\n      try {\n        removeEmptyAttrs(this.value);\n\n        await this.save(event);\n      } catch (e) {\n        handleGrowlError({ error: e, store: this.$store });\n      }\n    },\n  }\n};\n</script>\n\n<template>\n  <Create v-if=\"isCreate\" :value=\"value\" :mode=\"mode\" />\n  <CruResource\n    v-else\n    :resource=\"value\"\n    :mode=\"realMode\"\n    @finish=\"finish\"\n  >\n    <Config :value=\"value\" :mode=\"realMode\" />\n  </CruResource>\n</template>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./policies.kubewarden.io.admissionpolicy.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./policies.kubewarden.io.admissionpolicy.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./policies.kubewarden.io.admissionpolicy.vue?vue&type=template&id=68845aff&\"\nimport script from \"./policies.kubewarden.io.admissionpolicy.vue?vue&type=script&lang=js&\"\nexport * from \"./policies.kubewarden.io.admissionpolicy.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.$fetchState.pending)?_c('Loading'):_c('Values',{attrs:{\"value\":_vm.value,\"chart-values\":_vm.chartValues,\"yaml-values\":_vm.yamlValues,\"mode\":_vm.mode}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { _VIEW } from '@shell/config/query-params';\nimport { saferDump } from '@shell/utils/create-yaml';\n\nimport Loading from '@shell/components/Loading';\n\nimport Values from './Values.vue';\n\nexport default {\n  name: 'Config',\n\n  props: {\n    mode: {\n      type:     String,\n      default:  _VIEW\n    },\n    value: {\n      type:     Object,\n      required: true\n    }\n  },\n\n  components: { Loading, Values },\n\n  fetch() {\n    this.chartValues = {\n      policy:    this.value,\n      questions: null\n    };\n\n    this.yamlValues = saferDump(this.value);\n  },\n\n  data() {\n    return {\n      chartValues: null,\n      yamlValues:  ''\n    };\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" />\n  <Values v-else :value=\"value\" :chart-values=\"chartValues\" :yaml-values=\"yamlValues\" :mode=\"mode\" />\n</template>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Config.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Config.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Config.vue?vue&type=template&id=eb3e97a0&\"\nimport script from \"./Config.vue?vue&type=script&lang=js&\"\nexport * from \"./Config.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.$fetchState.pending)?_c('Loading',{attrs:{\"mode\":\"relative\"}}):_c('div',[(!_vm.hasArtifactHub)?[_c('Banner',{staticClass:\"type-banner mb-20 mt-0\",attrs:{\"color\":\"warning\"}},[_c('div',[_c('p',{staticClass:\"mb-10\",domProps:{\"innerHTML\":_vm._s(_vm.t('kubewarden.policies.noArtifactHub', {}, true))}}),_c('AsyncButton',{attrs:{\"mode\":\"artifactHub\"},on:{\"click\":_vm.addArtifactHub}})],1)])]:_vm._e(),(_vm.loadingPackages)?_c('Loading'):_vm._e(),(_vm.value && !_vm.loadingPackages)?_c('Wizard',{ref:\"wizard\",staticClass:\"wizard\",attrs:{\"errors\":_vm.errors,\"steps\":_vm.steps,\"edit-first-step\":true,\"banner-title\":_vm.bannerTitle,\"banner-title-subtext\":_vm.typeModule},on:{\"next\":_vm.reset,\"cancel\":_vm.done,\"finish\":_vm.finish},scopedSlots:_vm._u([{key:\"policies\",fn:function(){return [_c('PolicyGrid',{attrs:{\"value\":_vm.packages},on:{\"selectType\":function($event){return _vm.selectType($event)}},scopedSlots:_vm._u([{key:\"customSubtype\",fn:function(){return [_c('div',{staticClass:\"subtype custom\",on:{\"click\":function($event){return _vm.selectType('custom')}}},[_c('div',{staticClass:\"subtype__metadata\"},[_c('div',{staticClass:\"subtype__badge\",style:({ 'background-color': 'var(--darker)' })},[_c('label',[_vm._v(_vm._s(_vm.t('kubewarden.customPolicy.badge')))])]),_c('h4',{staticClass:\"subtype__label\"},[_vm._v(\" \"+_vm._s(_vm.t('kubewarden.customPolicy.title'))+\" \")]),_c('div',{staticClass:\"subtype__description\"},[_vm._v(\" \"+_vm._s(_vm.t('kubewarden.customPolicy.description'))+\" \")])])])]},proxy:true}],null,false,1258513566)})]},proxy:true},{key:\"readme\",fn:function(){return [(_vm.packageValues)?_c('ChartReadme',{staticClass:\"mb-20\",attrs:{\"version-info\":_vm.packageValues}}):_vm._e()]},proxy:true},{key:\"values\",fn:function(){return [_c('Values',{attrs:{\"value\":_vm.value,\"chart-values\":_vm.chartValues,\"yaml-values\":_vm.yamlValues,\"mode\":_vm.mode,\"custom-policy\":_vm.customPolicy},on:{\"editor\":function ($event) { return _vm.yamlOption = $event; },\"updateYamlValues\":function ($event) { return _vm.yamlValues = $event; }}})]},proxy:true},{key:\"finish\",fn:function(){return [_c('AsyncButton',{attrs:{\"disabled\":!_vm.canFinish,\"mode\":\"finish\"},on:{\"click\":_vm.finish}})]},proxy:true}],null,false,2664108066),model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}}):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{staticClass:\"create-resource-container step__policies\"},[_c('div',{staticClass:\"filter\"},[(_vm.providerOptions.length)?_c('LabeledSelect',{staticClass:\"filter__provider\",attrs:{\"clearable\":true,\"taggable\":true,\"mode\":_vm.mode,\"multiple\":true,\"label\":_vm.t('kubewarden.utils.provider'),\"options\":_vm.providerOptions},model:{value:(_vm.provider),callback:function ($$v) {_vm.provider=$$v},expression:\"provider\"}}):_vm._e(),_c('LabeledSelect',{staticClass:\"filter__keywords\",attrs:{\"clearable\":true,\"taggable\":true,\"mode\":_vm.mode,\"multiple\":true,\"label\":_vm.t('kubewarden.utils.keyword'),\"options\":_vm.keywordOptions},model:{value:(_vm.keywords),callback:function ($$v) {_vm.keywords=$$v},expression:\"keywords\"}}),_c('LabeledSelect',{staticClass:\"filter__category\",attrs:{\"clearable\":true,\"searchable\":false,\"mode\":_vm.mode,\"multiple\":true,\"placement\":\"bottom\",\"label\":_vm.t('kubewarden.utils.resource'),\"options\":_vm.resourceOptions},model:{value:(_vm.category),callback:function ($$v) {_vm.category=$$v},expression:\"category\"}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchQuery),expression:\"searchQuery\"}],ref:\"searchQuery\",staticClass:\"input-sm filter__search\",attrs:{\"type\":\"search\",\"placeholder\":_vm.t('catalog.charts.search')},domProps:{\"value\":(_vm.searchQuery)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.searchQuery=$event.target.value}}}),_c('button',{ref:\"btn\",staticClass:\"btn, btn-sm, role-primary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.refresh}},[_vm._v(\" \"+_vm._s(_vm.t('kubewarden.utils.resetFilter'))+\" \")])],1),_c('div',{staticClass:\"grid\"},[_vm._t(\"customSubtype\"),_vm._l((_vm.filteredSubtypes),function(subtype){return _c('div',{key:subtype.package_id,staticClass:\"subtype\",on:{\"click\":function($event){return _vm.$emit('selectType', subtype)}}},[_c('div',{staticClass:\"subtype__metadata\"},[(_vm.hasAnnotation(subtype, 'kubewarden/resources'))?_c('div',{staticClass:\"subtype__badge\"},[_c('label',[_vm._v(_vm._s(_vm.resourceType(subtype.data['kubewarden/resources'])))])]):_vm._e(),_c('div',{staticClass:\"subtype__left\"},[(subtype.signed)?_c('div',{staticClass:\"subtype__signed\"},[_c('span',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.t('kubewarden.policyCharts.signedPolicy.tooltip', { signatures: _vm.subtypeSignature(subtype) })),expression:\"t('kubewarden.policyCharts.signedPolicy.tooltip', { signatures: subtypeSignature(subtype) })\"}]},[_c('i',{staticClass:\"icon icon-lock\"})])]):_vm._e(),(subtype.provider === _vm.KUBEWARDEN_PRODUCT_NAME)?_c('div',{staticClass:\"subtype__icon\"},[_c('img',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.t('kubewarden.policies.official')),expression:\"t('kubewarden.policies.official')\"}],staticClass:\"ml-5\",attrs:{\"src\":require(\"../../assets/icon-kubewarden.svg\"),\"alt\":_vm.t('kubewarden.policies.official')}})]):_vm._e()]),(_vm.hasAnnotation(subtype, 'kubewarden/mutation'))?_c('div',{staticClass:\"subtype__mutation\"},[_c('span',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.t('kubewarden.policyCharts.mutationPolicy.tooltip')),expression:\"t('kubewarden.policyCharts.mutationPolicy.tooltip')\"}]},[_vm._v(\" \"+_vm._s(_vm.t('kubewarden.policyCharts.mutationPolicy.label'))+\" \")])]):_vm._e(),(_vm.hasAnnotation(subtype, 'kubewarden/contextAwareResources'))?_c('div',{staticClass:\"subtype__aware\"},[_c('span',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.t('kubewarden.policyCharts.contextAware.tooltip')),expression:\"t('kubewarden.policyCharts.contextAware.tooltip')\"}]},[_vm._v(\" \"+_vm._s(_vm.t('kubewarden.policyCharts.contextAware.label'))+\" \")])]):_vm._e(),_c('div',{staticClass:\"subtype__label\"},[_c('h4',[_vm._v(\" \"+_vm._s(subtype.display_name)+\" \")])]),(subtype.description)?_c('div',{staticClass:\"subtype__description mb-20\"},[_vm._v(\" \"+_vm._s(subtype.description)+\" \")]):_vm._e()])])})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { _CREATE, CATEGORY, SEARCH_QUERY } from '@shell/config/query-params';\nimport { ensureRegex } from '@shell/utils/string';\nimport { sortBy } from '@shell/utils/sort';\n\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\n\nimport { KUBEWARDEN_PRODUCT_NAME } from '../../types';\n\nexport default {\n  props: {\n    mode: {\n      type:    String,\n      default: _CREATE\n    },\n\n    // packages\n    value: {\n      type:    Array,\n      default: () => {\n        return [];\n      }\n    }\n  },\n\n  components: { LabeledSelect },\n\n  fetch() {\n    const query = this.$route.query;\n\n    this.category = query[CATEGORY] || '';\n    this.searchQuery = query[SEARCH_QUERY] || '';\n  },\n\n  data() {\n    return {\n      KUBEWARDEN_PRODUCT_NAME,\n\n      category:    null,\n      keywords:    [],\n      provider:    null,\n      searchQuery: null\n    };\n  },\n\n  computed: {\n    filteredSubtypes() {\n      const subtypes = ( this.value || [] );\n\n      const out = subtypes.filter((subtype) => {\n        if ( this.category ) {\n          if ( !this.hasAnnotation(subtype, 'kubewarden/resources') || !subtype.data?.['kubewarden/resources']?.includes(this.category) ) {\n            return false;\n          }\n        }\n\n        if ( this.searchQuery ) {\n          const searchTokens = this.searchQuery.split(/\\s*[, ]\\s*/).map(x => ensureRegex(x, false));\n\n          for ( const token of searchTokens ) {\n            if ( !subtype.display_name?.match(token) && (subtype.description && !subtype.description.match(token)) ) {\n              return false;\n            }\n          }\n        }\n\n        if ( this.keywords ) {\n          for ( const selected of this.keywords ) {\n            if ( !subtype.keywords || subtype.keywords?.length === 0 || !subtype.keywords?.includes(selected) ) {\n              return false;\n            }\n          }\n        }\n\n        if ( this.provider ) {\n          for ( const p of this.provider ) {\n            if ( !subtype.provider || !subtype.provider?.includes(p) ) {\n              return false;\n            }\n          }\n        }\n\n        return true;\n      });\n\n      return sortBy(out, ['name']);\n    },\n\n    keywordOptions() {\n      const flattened = this.value?.flatMap((subtype) => {\n        if ( subtype.keywords && subtype.keywords.length ) {\n          return subtype.keywords;\n        }\n      });\n\n      if ( !flattened || flattened?.length === 0 ) {\n        return [];\n      }\n\n      return [...new Set(flattened.filter(Boolean))];\n    },\n\n    providerOptions() {\n      const out = this.value?.flatMap((subtype) => {\n        return subtype.provider ? subtype.provider : [];\n      });\n\n      if ( !out || out?.length === 0 ) {\n        return [];\n      }\n\n      return [...new Set(out)];\n    },\n\n    resourceOptions() {\n      const out = [];\n\n      const resources = this.value?.flatMap((subtype) => {\n        const annotation = subtype.data?.['kubewarden/resources'];\n\n        if ( annotation ) {\n          return annotation;\n        }\n      });\n\n      resources?.flatMap((resource) => {\n        if ( resource ) {\n          const split = resource.split(',');\n\n          if ( split.length > 1 ) {\n            split.forEach(s => out.push(s));\n          } else {\n            out.push(resource);\n          }\n        }\n\n        return [];\n      })?.sort();\n\n      if ( !out || out?.length === 0 ) {\n        return [];\n      }\n\n      return [...new Set(out.filter(Boolean))];\n    },\n  },\n\n  methods: {\n    hasAnnotation(subtype, annotation) {\n      return subtype.data?.[annotation];\n    },\n\n    refresh() {\n      this.category = null;\n      this.keywords = [];\n      this.provider = null;\n      this.searchQuery = null;\n    },\n\n    resourceType(type) {\n      if ( type === undefined ) {\n        return null;\n      }\n\n      const t = type?.split(',');\n\n      if ( t?.length > 1 ) {\n        return 'Multiple';\n      }\n\n      return type === '*' ? 'Global' : type;\n    },\n\n    subtypeSignature(subtype) {\n      return subtype.signatures?.[0] || 'unknown';\n    }\n  }\n};\n</script>\n\n<template>\n  <form\n    class=\"create-resource-container step__policies\"\n  >\n    <div class=\"filter\">\n      <LabeledSelect\n        v-if=\"providerOptions.length\"\n        v-model=\"provider\"\n        :clearable=\"true\"\n        :taggable=\"true\"\n        :mode=\"mode\"\n        :multiple=\"true\"\n        class=\"filter__provider\"\n        :label=\"t('kubewarden.utils.provider')\"\n        :options=\"providerOptions\"\n      />\n\n      <LabeledSelect\n        v-model=\"keywords\"\n        :clearable=\"true\"\n        :taggable=\"true\"\n        :mode=\"mode\"\n        :multiple=\"true\"\n        class=\"filter__keywords\"\n        :label=\"t('kubewarden.utils.keyword')\"\n        :options=\"keywordOptions\"\n      />\n\n      <LabeledSelect\n        v-model=\"category\"\n        :clearable=\"true\"\n        :searchable=\"false\"\n        :mode=\"mode\"\n        :multiple=\"true\"\n        placement=\"bottom\"\n        class=\"filter__category\"\n        :label=\"t('kubewarden.utils.resource')\"\n        :options=\"resourceOptions\"\n      />\n\n      <input\n        ref=\"searchQuery\"\n        v-model=\"searchQuery\"\n        type=\"search\"\n        class=\"input-sm filter__search\"\n        :placeholder=\"t('catalog.charts.search')\"\n      >\n      <button\n        ref=\"btn\"\n        class=\"btn, btn-sm, role-primary\"\n        type=\"button\"\n        @click=\"refresh\"\n      >\n        {{ t('kubewarden.utils.resetFilter') }}\n      </button>\n    </div>\n\n    <div class=\"grid\">\n      <slot name=\"customSubtype\"></slot>\n\n      <div\n        v-for=\"subtype in filteredSubtypes\"\n        :key=\"subtype.package_id\"\n        class=\"subtype\"\n        @click=\"$emit('selectType', subtype)\"\n      >\n        <div class=\"subtype__metadata\">\n          <div v-if=\"hasAnnotation(subtype, 'kubewarden/resources')\" class=\"subtype__badge\">\n            <label>{{ resourceType(subtype.data['kubewarden/resources']) }}</label>\n          </div>\n\n          <div class=\"subtype__left\">\n            <div v-if=\"subtype.signed\" class=\"subtype__signed\">\n              <span v-tooltip=\"t('kubewarden.policyCharts.signedPolicy.tooltip', { signatures: subtypeSignature(subtype) })\">\n                <i class=\"icon icon-lock\" />\n              </span>\n            </div>\n\n            <div v-if=\"subtype.provider === KUBEWARDEN_PRODUCT_NAME\" class=\"subtype__icon\">\n              <img\n                v-tooltip=\"t('kubewarden.policies.official')\"\n                src=\"../../assets/icon-kubewarden.svg\"\n                :alt=\"t('kubewarden.policies.official')\"\n                class=\"ml-5\"\n              >\n            </div>\n          </div>\n\n          <div v-if=\"hasAnnotation(subtype, 'kubewarden/mutation')\" class=\"subtype__mutation\">\n            <span v-tooltip=\"t('kubewarden.policyCharts.mutationPolicy.tooltip')\">\n              {{ t('kubewarden.policyCharts.mutationPolicy.label') }}\n            </span>\n          </div>\n\n          <div v-if=\"hasAnnotation(subtype, 'kubewarden/contextAwareResources')\" class=\"subtype__aware\">\n            <span v-tooltip=\"t('kubewarden.policyCharts.contextAware.tooltip')\">\n              {{ t('kubewarden.policyCharts.contextAware.label') }}\n            </span>\n          </div>\n\n          <div class=\"subtype__label\">\n            <h4>\n              {{ subtype.display_name }}\n            </h4>\n          </div>\n\n          <div v-if=\"subtype.description\" class=\"subtype__description mb-20\">\n            {{ subtype.description }}\n          </div>\n        </div>\n      </div>\n    </div>\n  </form>\n</template>\n\n<style lang=\"scss\" scoped>\n$margin: 10px;\n\n.step {\n  &__policies {\n    display: flex;\n    flex-direction: column;\n    flex: 1;\n    overflow-x: hidden;\n\n    .spacer {\n      line-height: 2;\n    }\n  }\n}\n\n.filter {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  align-self: flex-end;\n\n  & > * {\n    margin: $margin;\n    max-width: 33%;\n  }\n  & > *:first-child {\n    margin-left: 0;\n  }\n  & > *:last-child {\n    margin-right: 0;\n  }\n\n  &__category {\n    min-width: 200px;\n    height: unset;\n  }\n}\n\n@media only screen and (min-width: map-get($breakpoints, '--viewport-4')) {\n  .filter {\n    width: 100%;\n  }\n}\n@media only screen and (min-width: map-get($breakpoints, '--viewport-12')) {\n  .filter {\n    width: 75%;\n  }\n}\n\n.grid {\n  display: flex;\n  justify-content: flex-start;\n  flex-wrap: wrap;\n  margin: 0 -1*$margin;\n\n  .custom {\n    height: 110px;\n  }\n\n  .subtype {\n    height: auto;\n  }\n\n  @media only screen and (min-width: map-get($breakpoints, '--viewport-4')) {\n    .subtype {\n      width: 100%;\n    }\n  }\n  @media only screen and (min-width: map-get($breakpoints, '--viewport-7')) {\n    .subtype {\n      width: calc(50% - 2 * #{$margin});\n    }\n  }\n  @media only screen and (min-width: map-get($breakpoints, '--viewport-9')) {\n    .subtype {\n      width: calc(33.33333% - 2 * #{$margin});\n    }\n  }\n  @media only screen and (min-width: map-get($breakpoints, '--viewport-12')) {\n    .subtype {\n      width: calc(25% - 2 * #{$margin});\n    }\n  }\n  @media only screen and (min-width: 1600px) {\n    .subtype {\n      &__label {\n        max-width: 100%;\n      }\n\n      h4 {\n        white-space: nowrap;\n      }\n    }\n  }\n\n  .disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n}\n\n.subtype {\n  &__label {\n    max-width: 205px;\n\n    h4 {\n      white-space: normal;\n    }\n  }\n\n  &__badge {\n    background-color: var(--darker);\n    padding: 4px 5px;\n  }\n\n  &__left, &__mutation, &__aware {\n    position: absolute;\n    bottom: 5px;\n  }\n\n  &__mutation, &__aware {\n    border: 1px solid var(--border);\n    padding: 0px 5px;\n  }\n\n  &__left {\n    display: flex;\n    flex-direction: row;\n    align-items: flex-start;\n  }\n\n  &__mutation {\n    right: 10px;\n  }\n\n  &__aware {\n    right: 80px;\n  }\n\n  &__icon {\n    width: 20px;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PolicyGrid.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PolicyGrid.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PolicyGrid.vue?vue&type=template&id=ac83f712&scoped=true&\"\nimport script from \"./PolicyGrid.vue?vue&type=script&lang=js&\"\nexport * from \"./PolicyGrid.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PolicyGrid.vue?vue&type=style&index=0&id=ac83f712&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ac83f712\",\n  null\n  \n)\n\nexport default component.exports","<script>\nimport jsyaml from 'js-yaml';\nimport merge from 'lodash/merge';\nimport isEmpty from 'lodash/isEmpty';\nimport isEqual from 'lodash/isEqual';\n\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport { _CREATE, CHART, REPO, REPO_TYPE } from '@shell/config/query-params';\nimport { saferDump } from '@shell/utils/create-yaml';\nimport { set } from '@shell/utils/object';\n\nimport { Banner } from '@components/Banner';\n\nimport AsyncButton from '@shell/components/AsyncButton';\nimport Loading from '@shell/components/Loading';\nimport ChartReadme from '@shell/components/ChartReadme';\nimport Wizard from '@shell/components/Wizard';\n\nimport { ARTIFACTHUB_PKG_ANNOTATION, NAMESPACE_SELECTOR } from '../../plugins/kubewarden-class';\nimport { DEFAULT_POLICY } from '../../plugins/policy-class';\nimport { KUBEWARDEN_PRODUCT_NAME, VALUES_STATE } from '../../types';\nimport { removeEmptyAttrs } from '../../utils/object';\nimport { handleGrowlError } from '../../utils/handle-growl';\n\nimport PolicyGrid from './PolicyGrid';\nimport Values from './Values';\n\nexport default ({\n  name: 'Create',\n\n  components: {\n    AsyncButton,\n    Banner,\n    Loading,\n    ChartReadme,\n    Wizard,\n    PolicyGrid,\n    Values\n  },\n\n  props: {\n    mode: {\n      type:    String,\n      default: _CREATE\n    },\n\n    value: {\n      type:     Object,\n      default:  () => ({})\n    },\n  },\n\n  mixins: [CreateEditView],\n\n  async fetch() {\n    this.errors = [];\n\n    if ( this.hasArtifactHub ) {\n      await this.getPackages();\n    }\n\n    this.value.apiVersion = `${ this.schema?.attributes?.group }.${ this.schema?.attributes?.version }`;\n    this.value.kind = this.schema?.attributes?.kind;\n  },\n\n  data() {\n    return {\n      errors:            [],\n      bannerTitle:       null,\n      loadingPackages:   false,\n      packages:          null,\n      repository:        null,\n      type:              null,\n      typeModule:        null,\n      version:           null,\n\n      chartValues: {\n        policy:    {},\n        questions: {}\n      },\n      yamlValues: '',\n\n      hasCustomPolicy: false,\n      yamlOption:      VALUES_STATE.FORM,\n\n      // Steps\n      stepPolicies: {\n        hidden: false,\n        name:   'policies',\n        label:  'Policies',\n        ready:  false,\n        weight: 99\n      },\n      stepReadme: {\n        hidden: false,\n        name:   'readme',\n        label:  'Readme',\n        ready:  true,\n        weight: 98\n      },\n      stepValues: {\n        name:   'values',\n        label:  'Values',\n        ready:  true,\n        weight: 97\n      },\n    };\n  },\n\n  computed: {\n    isCreate() {\n      return this.realMode === _CREATE;\n    },\n\n    isSelected() {\n      return !!this.type;\n    },\n\n    customPolicy() {\n      return this.type === 'custom';\n    },\n\n    /** Allow create if either editing in yaml view or module and required rules/settings have been met */\n    canFinish() {\n      if ( this.yamlOption === VALUES_STATE.YAML ) {\n        return true;\n      }\n\n      return !!this.chartValues?.policy?.spec?.module && this.hasRequired;\n    },\n\n    hasArtifactHub() {\n      return this.value.artifactHubWhitelist;\n    },\n\n    /** Determines if the required rules/settings are set, if not the resource can not be created */\n    hasRequired() {\n      const { rules, settings } = this.chartValues?.policy?.spec;\n\n      const requiredRules = ['apiVersions', 'operations', 'resources'];\n      const acceptedRules = this.acceptedValues(rules, requiredRules);\n\n      const requiredQuestions = this.chartValues?.questions?.questions?.map((q) => {\n        if ( q.required ) {\n          return q.variable;\n        }\n      }).filter(Boolean);\n      const acceptedQuestions = this.acceptedValues(settings, requiredQuestions);\n\n      if ( !isEmpty(acceptedRules) && (isEmpty(requiredQuestions) || !isEmpty(acceptedQuestions)) ) {\n        return true;\n      }\n\n      return false;\n    },\n\n    packageValues() {\n      if ( this.type?.name ) {\n        const pkg = this.packages?.find(p => p.name === this.type.name);\n\n        return pkg;\n      }\n\n      return null;\n    },\n\n    steps() {\n      const steps = [];\n\n      steps.push(\n        this.stepPolicies,\n        this.stepReadme,\n        this.stepValues\n      );\n\n      return steps.sort((a, b) => b.weight - a.weight);\n    }\n  },\n\n  methods: {\n    /** Determine values which need to be required from supplied property and keys */\n    acceptedValues(requiredProp, requiredKeys) {\n      if ( isEmpty(requiredKeys) ) {\n        return null;\n      }\n\n      let accepted;\n\n      if ( Array.isArray(requiredProp) ) {\n        accepted = requiredProp.find(prop => this.checkProperties(prop, requiredKeys));\n      } else {\n        accepted = this.checkProperties(requiredProp, requiredKeys);\n      }\n\n      return accepted;\n    },\n\n    /** Check supplied property for required keys */\n    checkProperties(requiredProp, requiredKeys) {\n      const match = [];\n\n      for ( const key of requiredKeys?.values() ) {\n        if ( !isEmpty(requiredProp[key]) ) {\n          match.push(key);\n        }\n      }\n      if ( requiredKeys && isEqual(match, requiredKeys) ) {\n        return requiredProp;\n      }\n\n      return null;\n    },\n\n    async addArtifactHub(btnCb) {\n      try {\n        this.loadingPackages = true;\n\n        await this.value.updateWhitelist('artifacthub.io');\n        await this.getPackages();\n\n        btnCb(true);\n        this.loadingPackages = false;\n      } catch (e) {\n        handleGrowlError({ error: e, store: this.$store });\n\n        btnCb(false);\n        this.loadingPackages = false;\n      }\n    },\n\n    done() {\n      this.$router.replace({\n        name:   'c-cluster-product-resource',\n        params: {\n          cluster:  this.$route.params.cluster,\n          product:  KUBEWARDEN_PRODUCT_NAME,\n          resource: this.schema?.id\n        }\n      });\n    },\n\n    async finish(event) {\n      try {\n        let out;\n        const { ignoreRancherNamespaces } = this.chartValues.policy;\n\n        if ( ignoreRancherNamespaces ) {\n          set(this.chartValues.policy.spec, 'namespaceSelector', { matchExpressions: [NAMESPACE_SELECTOR] });\n          delete this.chartValues.policy.ignoreRancherNamespaces;\n        }\n\n        if ( this.yamlOption === VALUES_STATE.YAML ) {\n          out = jsyaml.load(this.yamlValues);\n        } else {\n          out = this.chartValues?.policy ? this.chartValues.policy : jsyaml.load(this.yamlValues);\n        }\n\n        removeEmptyAttrs(out); // Clean up empty values from questions\n        merge(this.value, out);\n\n        await this.save(event);\n      } catch (e) {\n        handleGrowlError({ error: e, store: this.$store });\n\n        console.error('Error creating policy', e); // eslint-disable-line no-console\n      }\n    },\n\n    /** Fetch packages from ArtifactHub repository */\n    async getPackages() {\n      this.repository = await this.value.artifactHubRepo();\n\n      if ( this.repository && this.repository.packages.length > 0 ) {\n        const promises = this.repository.packages.map(pkg => this.packageDetails(pkg));\n\n        try {\n          const packages = await Promise.all(promises);\n\n          this.packages = packages.filter(pkg => pkg?.data?.['kubewarden/hidden-ui'] !== 'true');\n        } catch (e) {\n          handleGrowlError({ error: e, store: this.$store });\n\n          console.warn(`Error fetching packages`, e); // eslint-disable-line no-console\n        }\n      }\n    },\n\n    async packageDetails(pkg) {\n      try {\n        return await this.value.artifactHubPackage(pkg);\n      } catch (e) {}\n    },\n\n    /** Extract policy questions from ArtifactHub package if available */\n    policyQuestions() {\n      const defaultPolicy = structuredClone(DEFAULT_POLICY);\n\n      if ( this.type === 'custom' ) {\n        // Add contextAwareResources to custom policy spec\n        const updatedCustomPolicy = { spec: { contextAwareResources: [] } };\n\n        merge(defaultPolicy, updatedCustomPolicy);\n        set(this.chartValues, 'policy', defaultPolicy);\n        this.yamlValues = saferDump(defaultPolicy);\n\n        return;\n      }\n\n      const policyDetails = this.packages.find(pkg => pkg.name === this.type?.name);\n      const packageQuestions = this.value.parsePackageMetadata(policyDetails?.data?.['kubewarden/questions-ui']);\n      const packageAnnotation = `${ policyDetails.repository.name }/${ policyDetails.name }/${ policyDetails.version }`;\n      /** Return spec from package if annotation exists */\n      const parseAnnotation = (annotation, obj) => {\n        const spec = this.value.parsePackageMetadata(policyDetails?.data?.[annotation]);\n\n        if ( spec?.[obj] !== undefined ) {\n          return spec[obj];\n        }\n\n        return spec || [];\n      };\n\n      /** Return value of annotation if it exists */\n      const determineAnnotation = (annotation) => {\n        if ( policyDetails?.data?.[annotation] !== undefined ) {\n          return JSON.parse(policyDetails.data[annotation]);\n        }\n\n        return false;\n      };\n\n      const updatedPolicy = {\n        apiVersion: this.value.apiVersion,\n        kind:       this.value.kind,\n        metadata:   { annotations: { [ARTIFACTHUB_PKG_ANNOTATION]: packageAnnotation } },\n        spec:       {\n          module:                policyDetails.containers_images[0].image,\n          contextAwareResources: parseAnnotation('kubewarden/contextAwareResources', 'contextAwareResources'),\n          rules:                 parseAnnotation('kubewarden/rules', 'rules'),\n          mutating:              determineAnnotation('kubewarden/mutation')\n        }\n      };\n\n      merge(defaultPolicy, updatedPolicy);\n      set(this.chartValues, 'policy', defaultPolicy);\n\n      this.yamlValues = saferDump(defaultPolicy);\n\n      if ( packageQuestions ) {\n        set(this.chartValues, 'questions', packageQuestions);\n      }\n    },\n\n    reset(event) {\n      this.$nextTick(() => {\n        if ( event.step?.name === this.stepPolicies.name ) {\n          const initialState = [\n            'errors',\n            'bannerTitle',\n            'type',\n            'typeModule',\n            'version',\n            'hasCustomPolicy',\n          ];\n\n          initialState.forEach((i) => {\n            this[i] = null;\n          });\n\n          this.stepPolicies.ready = false;\n          this.stepReadme.hidden = false;\n\n          this.chartValues = {\n            policy:    {},\n            questions: {}\n          };\n          this.yamlOption = VALUES_STATE.FORM;\n          this.yamlValues = '';\n        }\n      });\n    },\n\n    selectType(type) {\n      this.type = type;\n      const isCustom = type === 'custom';\n\n      if ( isCustom ) {\n        this.stepReadme.hidden = true;\n        this.$set(this, 'hasCustomPolicy', true);\n      } else {\n        !!this.packageValues ? this.stepReadme.hidden = false : this.stepReadme.hidden = true;\n        this.$set(this, 'hasCustomPolicy', false);\n      }\n\n      this.$router.push({\n        query: {\n          [REPO]:      KUBEWARDEN_PRODUCT_NAME,\n          [REPO_TYPE]: 'cluster',\n          [CHART]:     isCustom ? 'custom' : type?.name\n        }\n      });\n\n      this.policyQuestions();\n      this.stepPolicies.ready = true;\n      this.$refs.wizard.next();\n      this.bannerTitle = isCustom ? 'Custom Policy' : type?.display_name;\n      this.typeModule = this.chartValues?.policy?.spec.module;\n    }\n  }\n\n});\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" mode=\"relative\" />\n  <div v-else>\n    <template v-if=\"!hasArtifactHub\">\n      <Banner\n        class=\"type-banner mb-20 mt-0\"\n        color=\"warning\"\n      >\n        <div>\n          <p class=\"mb-10\" v-html=\"t('kubewarden.policies.noArtifactHub', {}, true)\" />\n          <AsyncButton mode=\"artifactHub\" @click=\"addArtifactHub\" />\n        </div>\n      </Banner>\n    </template>\n    <Loading v-if=\"loadingPackages\" />\n    <Wizard\n      v-if=\"value && !loadingPackages\"\n      ref=\"wizard\"\n      v-model=\"value\"\n      :errors=\"errors\"\n      :steps=\"steps\"\n      :edit-first-step=\"true\"\n      :banner-title=\"bannerTitle\"\n      :banner-title-subtext=\"typeModule\"\n      class=\"wizard\"\n      @next=\"reset\"\n      @cancel=\"done\"\n      @finish=\"finish\"\n    >\n      <template #policies>\n        <PolicyGrid :value=\"packages\" @selectType=\"selectType($event)\">\n          <template #customSubtype>\n            <div class=\"subtype custom\" @click=\"selectType('custom')\">\n              <div class=\"subtype__metadata\">\n                <div class=\"subtype__badge\" :style=\"{ 'background-color': 'var(--darker)' }\">\n                  <label>{{ t('kubewarden.customPolicy.badge') }}</label>\n                </div>\n\n                <h4 class=\"subtype__label\">\n                  {{ t('kubewarden.customPolicy.title') }}\n                </h4>\n\n                <div class=\"subtype__description\">\n                  {{ t('kubewarden.customPolicy.description') }}\n                </div>\n              </div>\n            </div>\n          </template>\n        </PolicyGrid>\n      </template>\n\n      <template #readme>\n        <ChartReadme v-if=\"packageValues\" :version-info=\"packageValues\" class=\"mb-20\" />\n      </template>\n\n      <template #values>\n        <Values\n          :value=\"value\"\n          :chart-values=\"chartValues\"\n          :yaml-values=\"yamlValues\"\n          :mode=\"mode\"\n          :custom-policy=\"customPolicy\"\n          @editor=\"$event => yamlOption = $event\"\n          @updateYamlValues=\"$event => yamlValues = $event\"\n        />\n      </template>\n\n      <template #finish>\n        <AsyncButton\n          :disabled=\"!canFinish\"\n          mode=\"finish\"\n          @click=\"finish\"\n        />\n      </template>\n    </Wizard>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n$padding: 5px;\n$height: 110px;\n$margin: 10px;\n$color: var(--body-text) !important;\n\n::v-deep .step-container {\n  height: auto;\n}\n\n::v-deep .header {\n  .step-sequence {\n    display: block;\n\n    .steps {\n      & .divider {\n        top: 22px;\n      }\n    }\n  }\n}\n\n::v-deep .controls-row {\n  .controls-steps {\n    display: flex;\n  }\n}\n\n::v-deep .custom {\n  min-height: 110px;\n}\n\n::v-deep .subtype {\n  height: $height;\n  margin: $margin;\n  position: relative;\n  border-radius: calc( 1.5 * var(--border-radius));\n  border: 1px solid var(--border);\n  text-decoration: none !important;\n  color: $color;\n\n  &:hover:not(.disabled) {\n    box-shadow: 0 0 30px var(--shadow);\n    transition: box-shadow 0.1s ease-in-out;\n    cursor: pointer;\n    text-decoration: none !important;\n  }\n\n  &__metadata {\n    padding: $margin;\n\n    &__label, &__description {\n      padding-right: 20px;\n    }\n  }\n\n  &__badge {\n    position: absolute;\n    right: 0;\n    top: 0;\n    padding: 4px $padding;\n    border-bottom-left-radius: var(--border-radius);\n\n    label {\n      font-size: 12px;\n      line-height: 12px;\n      text-align: center;\n      display: block;\n      white-space: no-wrap;\n      text-overflow: ellipsis;\n      color: var(--app-rancher-accent-text);\n      margin: 0;\n    }\n  }\n\n  &__label {\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    margin-bottom: 4px;\n    line-height: initial;\n  }\n\n  &__description {\n    margin-right: $margin;\n    display: -webkit-box;\n    -webkit-box-orient: vertical;\n    -webkit-line-clamp: 3;\n    line-clamp: 3;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    color: var(--input-label);\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Create.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Create.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Create.vue?vue&type=template&id=7912d636&scoped=true&\"\nimport script from \"./Create.vue?vue&type=script&lang=js&\"\nexport * from \"./Create.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Create.vue?vue&type=style&index=0&id=7912d636&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7912d636\",\n  null\n  \n)\n\nexport default component.exports","import isEmpty from 'lodash/isEmpty';\nimport isObject from 'lodash/isObject';\n\nexport function removeEmptyAttrs(obj: any) {\n  Object.keys(obj).forEach((key: any) => {\n    const value = obj[key];\n\n    if ( !value || value === '' || (Array.isArray(value) && !value.length) || (isObject(value) && isEmpty(value)) ) {\n      delete obj[key];\n    } else if ( isObject(value) ) {\n      removeEmptyAttrs(value);\n    }\n  });\n\n  return obj;\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isCreate)?_c('Create',{attrs:{\"value\":_vm.value,\"mode\":_vm.mode}}):_c('CruResource',{attrs:{\"resource\":_vm.value,\"mode\":_vm.realMode,\"errors\":_vm.errors},on:{\"finish\":_vm.finish}},[_c('Values',{attrs:{\"value\":_vm.value,\"mode\":_vm.mode}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.$fetchState.pending)?_c('Loading',{attrs:{\"mode\":\"relative\"}}):_c('div',{staticClass:\"scroll__container\"},[_c('div',{staticClass:\"scroll__content\"},[_c('Tabbed',{ref:\"tabs\",staticClass:\"step__values__content\",attrs:{\"side-tabs\":true},on:{\"changed\":function($event){return _vm.tabChanged($event)}}},[_c(_vm.valuesComponent,{tag:\"component\",attrs:{\"resource\":_vm.value,\"mode\":_vm.mode},model:{value:(_vm.componentValue),callback:function ($$v) {_vm.componentValue=$$v},expression:\"componentValue\"}})],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { _CREATE } from '@shell/config/query-params';\n\nimport Loading from '@shell/components/Loading';\nimport Tabbed from '@shell/components/Tabbed';\n\nexport default {\n  name: 'Values',\n\n  props: {\n    mode: {\n      type:    String,\n      default: _CREATE\n    },\n\n    chartValues: {\n      type:     Object,\n      default:  () => {}\n    },\n\n    value: {\n      type:     Object,\n      required: true\n    }\n  },\n\n  components: { Loading, Tabbed },\n\n  async fetch() {\n    if ( !this.isCreate && this.value ) {\n      this.configValues = { questions: this.value };\n    }\n\n    try {\n      await this.loadValuesComponent();\n    } catch (e) {\n      console.error(`Error loading values component: ${ e }`); // eslint-disable-line no-console\n    }\n  },\n\n  data() {\n    return {\n      configValues:        null,\n      showQuestions:       true,\n      showValuesComponent: false,\n      valuesComponent:     null\n    };\n  },\n\n  computed: {\n    isCreate() {\n      return this.mode === _CREATE;\n    },\n\n    componentValue() {\n      return this.isCreate ? this.chartValues : this.configValues;\n    }\n  },\n\n  methods: {\n    async loadValuesComponent() {\n      if ( this.value.haveComponent('kubewarden/policy-server') ) {\n        this.valuesComponent = this.value.importComponent('kubewarden/policy-server');\n        await this.valuesComponent();\n\n        this.showValuesComponent = true;\n      }\n    },\n\n    tabChanged() {\n      window.scrollTop = 0;\n    },\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" mode=\"relative\" />\n  <div v-else class=\"scroll__container\">\n    <div class=\"scroll__content\">\n      <Tabbed\n        ref=\"tabs\"\n        :side-tabs=\"true\"\n        class=\"step__values__content\"\n        @changed=\"tabChanged($event)\"\n      >\n        <component\n          :is=\"valuesComponent\"\n          v-model=\"componentValue\"\n          :resource=\"value\"\n          :mode=\"mode\"\n        />\n      </Tabbed>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  $padding: 5px;\n  $height: 110px;\n  $side: 15px;\n  $margin: 10px;\n  $logo: 60px;\n\n  ::v-deep .step-container {\n    height: auto;\n  }\n\n  .step {\n    &__basic {\n      display: flex;\n      flex-direction: column;\n      flex: 1;\n      overflow-x: hidden;\n\n      .spacer {\n        line-height: 2;\n      }\n    }\n\n    &__values {\n      &__controls {\n        display: flex;\n        margin-bottom: 15px;\n\n        & > *:not(:last-of-type) {\n          margin-right: $padding * 2;\n        }\n\n        &--spacer {\n          flex: 1\n        }\n\n      }\n\n      &__content {\n        flex: 1;\n\n        ::v-deep .tab-container {\n          overflow: auto;\n        }\n      }\n    }\n  }\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Values.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Values.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Values.vue?vue&type=template&id=d203183e&scoped=true&\"\nimport script from \"./Values.vue?vue&type=script&lang=js&\"\nexport * from \"./Values.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Values.vue?vue&type=style&index=0&id=d203183e&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d203183e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('CruResource',{attrs:{\"resource\":_vm.value,\"mode\":_vm.realMode,\"done-route\":_vm.doneRoute,\"errors\":_vm.errors,\"generate-yaml\":_vm.generateYaml},on:{\"finish\":_vm.finish,\"error\":function (e) { return _vm.errors = e; }}},[_c('Values',{attrs:{\"value\":_vm.value,\"chart-values\":_vm.chartValues,\"mode\":_vm.mode}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport merge from 'lodash/merge';\nimport jsyaml from 'js-yaml';\nimport { _CREATE } from '@shell/config/query-params';\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport { clone } from '@shell/utils/object';\n\nimport CruResource from '@shell/components/CruResource';\n\nimport { DEFAULT_POLICY_SERVER } from '../../models/policies.kubewarden.io.policyserver';\nimport Values from './Values';\n\nexport default {\n  name: 'Create',\n\n  props: {\n    mode: {\n      type:    String,\n      default: _CREATE\n    },\n\n    value: {\n      type:     Object,\n      required: true\n    }\n  },\n\n  components: { Values, CruResource },\n\n  mixins: [CreateEditView],\n\n  fetch() {\n    this.errors = [];\n\n    this.chartValues = { questions: structuredClone(DEFAULT_POLICY_SERVER) };\n\n    this.value.apiVersion = `${ this.schema?.attributes?.group }.${ this.schema?.attributes?.version }`;\n    this.value.kind = this.schema?.attributes?.kind;\n\n    merge(this.chartValues.questions, this.value);\n  },\n\n  data() {\n    return {\n      errors:      null,\n      chartValues: null,\n    };\n  },\n\n  methods: {\n    async finish(event) {\n      try {\n        merge(this.value, this.chartValues?.questions);\n\n        await this.save(event);\n      } catch (e) {\n        this.errors.push(e);\n      }\n    },\n\n    generateYaml() {\n      const cloned = this.chartValues?.questions ? clone(this.chartValues.questions) : this.value;\n\n      return jsyaml.dump(cloned);\n    }\n  }\n};\n</script>\n\n<template>\n  <CruResource\n    :resource=\"value\"\n    :mode=\"realMode\"\n    :done-route=\"doneRoute\"\n    :errors=\"errors\"\n    :generate-yaml=\"generateYaml\"\n    @finish=\"finish\"\n    @error=\"e => errors = e\"\n  >\n    <Values :value=\"value\" :chart-values=\"chartValues\" :mode=\"mode\" />\n  </CruResource>\n</template>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Create.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Create.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Create.vue?vue&type=template&id=e65b157e&\"\nimport script from \"./Create.vue?vue&type=script&lang=js&\"\nexport * from \"./Create.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\nimport { _CREATE, _EDIT } from '@shell/config/query-params';\nimport CreateEditView from '@shell/mixins/create-edit-view';\n\nimport CruResource from '@shell/components/CruResource';\n\nimport Values from '../components/PolicyServer/Values';\nimport Create from '../components/PolicyServer/Create';\n\nexport default {\n  components: {\n    CruResource, Values, Create\n  },\n\n  mixins: [CreateEditView],\n\n  props: {\n    mode: {\n      type:    String,\n      default: _EDIT\n    },\n\n    realMode: {\n      type:    String,\n      default: _EDIT\n    },\n\n    value: {\n      type:     Object,\n      required: true\n    },\n  },\n\n  data() {\n    return { errors: [] };\n  },\n\n  computed: {\n    isCreate() {\n      return this.realMode === _CREATE;\n    }\n  },\n\n  methods: {\n    async finish(event) {\n      try {\n        await this.save(event);\n      } catch (e) {\n        this.errors.push(e);\n      }\n    }\n  }\n};\n</script>\n\n<template>\n  <Create v-if=\"isCreate\" :value=\"value\" :mode=\"mode\" />\n  <CruResource\n    v-else\n    :resource=\"value\"\n    :mode=\"realMode\"\n    :errors=\"errors\"\n    @finish=\"finish\"\n  >\n    <Values :value=\"value\" :mode=\"mode\" />\n  </CruResource>\n</template>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./policies.kubewarden.io.policyserver.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./policies.kubewarden.io.policyserver.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./policies.kubewarden.io.policyserver.vue?vue&type=template&id=fd83fbd8&\"\nimport script from \"./policies.kubewarden.io.policyserver.vue?vue&type=script&lang=js&\"\nexport * from \"./policies.kubewarden.io.policyserver.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".clearfix[data-v-d203183e]:after,.clearfix[data-v-d203183e]:before{content:\\\" \\\";display:table}.clearfix[data-v-d203183e]:after{clear:both}.list-unstyled[data-v-d203183e]{margin:0;padding:0;list-style-type:none}.no-select[data-v-d203183e]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-d203183e]{resize:none}.hand[data-v-d203183e]{cursor:pointer;cursor:hand}.fixed[data-v-d203183e]{table-layout:fixed}.clip[data-v-d203183e]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-d203183e],.force-wrap[data-v-d203183e]{word-wrap:break-word}.force-wrap[data-v-d203183e]{white-space:normal}.bordered-section[data-v-d203183e]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-d203183e]{margin-bottom:20px;margin-top:20px}[data-v-d203183e] .step-container{height:auto}.step__basic[data-v-d203183e]{display:flex;flex-direction:column;flex:1;overflow-x:hidden}.step__basic .spacer[data-v-d203183e]{line-height:2}.step__values__controls[data-v-d203183e]{display:flex;margin-bottom:15px}.step__values__controls[data-v-d203183e]>:not(:last-of-type){margin-right:10px}.step__values__content[data-v-d203183e],.step__values__controls--spacer[data-v-d203183e]{flex:1}.step__values__content[data-v-d203183e]  .tab-container{overflow:auto}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.$fetchState.pending)?_c('Loading',{attrs:{\"mode\":\"relative\"}}):_c('div',[(_vm.isCreate)?_c('div',{staticClass:\"step__values__controls\"},[_c('ButtonGroup',{attrs:{\"options\":_vm.YAML_OPTIONS,\"inactive-class\":\"bg-disabled btn-sm\",\"active-class\":\"bg-primary btn-sm\"},model:{value:(_vm.yamlOption),callback:function ($$v) {_vm.yamlOption=$$v},expression:\"yamlOption\"}})],1):_vm._e(),_c('div',{staticClass:\"scroll__container\"},[_c('div',{staticClass:\"scroll__content\"},[(_vm.showForm)?[_c('Tabbed',{ref:\"tabs\",staticClass:\"step__values__content\",attrs:{\"side-tabs\":true},on:{\"changed\":function($event){return _vm.tabChanged($event)}}},[(_vm.valuesComponent)?[_c(_vm.valuesComponent,{tag:\"component\",attrs:{\"mode\":_vm.mode,\"custom-policy\":_vm.customPolicy},model:{value:(_vm.chartValues),callback:function ($$v) {_vm.chartValues=$$v},expression:\"chartValues\"}})]:_vm._e()],2)]:(_vm.isCreate && !_vm.showForm)?[_c('YamlEditor',{ref:\"yaml\",staticClass:\"step__values__content\",attrs:{\"scrolling\":true,\"initial-yaml-values\":_vm.originalYamlValues,\"editor-mode\":_vm.editorMode,\"hide-preview-buttons\":true},on:{\"onChanges\":_vm.updateYamlValues},model:{value:(_vm.currentYamlValues),callback:function ($$v) {_vm.currentYamlValues=$$v},expression:\"currentYamlValues\"}})]:_vm._e(),_c('ResourceCancelModal',{ref:\"cancelModal\",attrs:{\"is-cancel-modal\":false,\"is-form\":true},on:{\"cancel-cancel\":function($event){_vm.preYamlOption = _vm.yamlOption},\"confirm-cancel\":function($event){_vm.yamlOption = _vm.preYamlOption}}})],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport isEmpty from 'lodash/isEmpty';\n\nimport { _CREATE, _VIEW } from '@shell/config/query-params';\nimport { SCHEMA } from '@shell/config/types';\nimport { createYaml, saferDump } from '@shell/utils/create-yaml';\nimport { set } from '@shell/utils/object';\n\nimport ButtonGroup from '@shell/components/ButtonGroup';\nimport Loading from '@shell/components/Loading';\nimport ResourceCancelModal from '@shell/components/ResourceCancelModal';\nimport Tabbed from '@shell/components/Tabbed';\nimport YamlEditor, { EDITOR_MODES } from '@shell/components/YamlEditor';\n\nimport { KUBEWARDEN_CHARTS, VALUES_STATE, YAML_OPTIONS } from '../../types';\n\nexport default {\n  name: 'Values',\n\n  props: {\n    mode: {\n      type:     String,\n      default:  _VIEW\n    },\n    chartValues: {\n      type:     Object,\n      required: true\n    },\n    customPolicy: {\n      type:    Boolean,\n      default: false\n    },\n    value: {\n      type:     Object,\n      required: true\n    },\n    yamlValues: {\n      type:    String,\n      default: ''\n    }\n  },\n\n  components: {\n    ButtonGroup, Loading, ResourceCancelModal, Tabbed, YamlEditor\n  },\n\n  async fetch() {\n    if ( isEmpty(this.chartValues.questions) && !!this.chartValues?.policy?.spec?.settings ) {\n      try {\n        const pkg = await this.value.artifactHubPackageVersion();\n\n        if ( pkg && !pkg.error ) {\n          const packageQuestions = this.value.parsePackageMetadata(pkg?.data?.['kubewarden/questions-ui']);\n\n          if ( packageQuestions ) {\n            set(this.chartValues, 'questions', packageQuestions);\n          }\n        }\n      } catch (e) {\n        console.warn(`Unable to fetch chart questions: ${ e }`); // eslint-disable-line no-console\n      }\n    }\n\n    try {\n      this.version = this.$store.getters['catalog/version']({\n        repoType:      'cluster',\n        repoName:      'kubewarden',\n        chartName:     KUBEWARDEN_CHARTS.CONTROLLER,\n      });\n\n      await this.loadValuesComponent();\n    } catch (e) {\n      console.warn(`Unable to fetch Version: ${ e }`); // eslint-disable-line no-console\n    }\n\n    this.generateYaml();\n  },\n\n  data() {\n    return {\n      YAML_OPTIONS,\n      currentYamlValues:   '',\n      originalYamlValues:  '',\n      showForm:            true,\n      valuesComponent:     null,\n      preYamlOption:       VALUES_STATE.FORM,\n      yamlOption:          VALUES_STATE.FORM\n    };\n  },\n\n  watch: {\n    yamlOption(neu, old) {\n      switch (neu) {\n      case VALUES_STATE.FORM:\n        this.showForm = true;\n        this.$emit('editor', neu);\n\n        break;\n      case VALUES_STATE.YAML:\n        if ( old === VALUES_STATE.FORM ) {\n          this.currentYamlValues = saferDump(this.chartValues.policy);\n          this.updateYamlValues();\n        }\n\n        this.showForm = false;\n        this.$emit('editor', neu);\n\n        break;\n      }\n    },\n  },\n\n  computed: {\n    editorMode() {\n      return EDITOR_MODES.EDIT_CODE;\n    },\n\n    isCreate() {\n      return this.mode === _CREATE;\n    }\n  },\n\n  methods: {\n    generateYaml() {\n      const inStore = this.$store.getters['currentStore'](this.value);\n      const schemas = this.$store.getters[`${ inStore }/all`](SCHEMA);\n      const cloned = this.chartValues?.policy ? structuredClone(this.chartValues.policy) : this.value;\n\n      if ( this.yamlValues?.length ) {\n        this.currentYamlValues = this.yamlValues;\n      } else {\n        this.currentYamlValues = createYaml(schemas, this.value?.type, cloned);\n      }\n    },\n\n    async loadValuesComponent() {\n      if ( this.value?.haveComponent('kubewarden/admission') ) {\n        this.valuesComponent = this.value?.importComponent('kubewarden/admission');\n\n        await this.valuesComponent();\n      }\n    },\n\n    tabChanged() {\n      window.scrollTop = 0;\n    },\n\n    updateYamlValues() {\n      this.$emit('updateYamlValues', this.currentYamlValues);\n    }\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" mode=\"relative\" />\n  <div v-else>\n    <div v-if=\"isCreate\" class=\"step__values__controls\">\n      <ButtonGroup\n        v-model=\"yamlOption\"\n        :options=\"YAML_OPTIONS\"\n        inactive-class=\"bg-disabled btn-sm\"\n        active-class=\"bg-primary btn-sm\"\n      />\n    </div>\n    <div class=\"scroll__container\">\n      <div class=\"scroll__content\">\n        <template v-if=\"showForm\">\n          <Tabbed\n            ref=\"tabs\"\n            :side-tabs=\"true\"\n            class=\"step__values__content\"\n            @changed=\"tabChanged($event)\"\n          >\n            <template v-if=\"valuesComponent\">\n              <component\n                :is=\"valuesComponent\"\n                v-model=\"chartValues\"\n                :mode=\"mode\"\n                :custom-policy=\"customPolicy\"\n              />\n            </template>\n          </Tabbed>\n        </template>\n        <template v-else-if=\"isCreate && !showForm\">\n          <YamlEditor\n            ref=\"yaml\"\n            v-model=\"currentYamlValues\"\n            class=\"step__values__content\"\n            :scrolling=\"true\"\n            :initial-yaml-values=\"originalYamlValues\"\n            :editor-mode=\"editorMode\"\n            :hide-preview-buttons=\"true\"\n            @onChanges=\"updateYamlValues\"\n          />\n        </template>\n\n        <ResourceCancelModal\n          ref=\"cancelModal\"\n          :is-cancel-modal=\"false\"\n          :is-form=\"true\"\n          @cancel-cancel=\"preYamlOption = yamlOption\"\n          @confirm-cancel=\"yamlOption = preYamlOption\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  $padding: 5px;\n\n  .step {\n    &__values {\n      &__controls {\n        display: flex;\n        margin-bottom: 15px;\n\n        & > *:not(:last-of-type) {\n          margin-right: $padding * 2;\n        }\n\n        &--spacer {\n          flex: 1\n        }\n\n      }\n\n      &__content {\n        flex: 1;\n\n        ::v-deep .tab-container {\n          overflow: auto;\n        }\n      }\n    }\n  }\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Values.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Values.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Values.vue?vue&type=template&id=7ef7a36c&scoped=true&\"\nimport script from \"./Values.vue?vue&type=script&lang=js&\"\nexport * from \"./Values.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Values.vue?vue&type=style&index=0&id=7ef7a36c&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7ef7a36c\",\n  null\n  \n)\n\nexport default component.exports","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".clearfix[data-v-ac83f712]:after,.clearfix[data-v-ac83f712]:before{content:\\\" \\\";display:table}.clearfix[data-v-ac83f712]:after{clear:both}.list-unstyled[data-v-ac83f712]{margin:0;padding:0;list-style-type:none}.no-select[data-v-ac83f712]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-ac83f712]{resize:none}.hand[data-v-ac83f712]{cursor:pointer;cursor:hand}.fixed[data-v-ac83f712]{table-layout:fixed}.clip[data-v-ac83f712]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-ac83f712],.force-wrap[data-v-ac83f712]{word-wrap:break-word}.force-wrap[data-v-ac83f712]{white-space:normal}.bordered-section[data-v-ac83f712]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-ac83f712]{margin-bottom:20px;margin-top:20px}.step__policies[data-v-ac83f712]{display:flex;flex-direction:column;flex:1;overflow-x:hidden}.step__policies .spacer[data-v-ac83f712]{line-height:2}.filter[data-v-ac83f712]{display:flex;flex-direction:row;justify-content:flex-end;align-self:flex-end}.filter>*[data-v-ac83f712]{margin:10px;max-width:33%}.filter[data-v-ac83f712]>:first-child{margin-left:0}.filter[data-v-ac83f712]>:last-child{margin-right:0}.filter__category[data-v-ac83f712]{min-width:200px;height:unset}@media only screen and (min-width:480px){.filter[data-v-ac83f712]{width:100%}}@media only screen and (min-width:1281px){.filter[data-v-ac83f712]{width:75%}}.grid[data-v-ac83f712]{display:flex;justify-content:flex-start;flex-wrap:wrap;margin:0 -10px}.grid .custom[data-v-ac83f712]{height:110px}.grid .subtype[data-v-ac83f712]{height:auto}@media only screen and (min-width:480px){.grid .subtype[data-v-ac83f712]{width:100%}}@media only screen and (min-width:768px){.grid .subtype[data-v-ac83f712]{width:calc(50% - 20px)}}@media only screen and (min-width:992px){.grid .subtype[data-v-ac83f712]{width:calc(33.33333% - 20px)}}@media only screen and (min-width:1281px){.grid .subtype[data-v-ac83f712]{width:calc(25% - 20px)}}@media only screen and (min-width:1600px){.grid .subtype__label[data-v-ac83f712]{max-width:100%}.grid .subtype h4[data-v-ac83f712]{white-space:nowrap}}.grid .disabled[data-v-ac83f712]{opacity:.5;cursor:not-allowed}.subtype__label[data-v-ac83f712]{max-width:205px}.subtype__label h4[data-v-ac83f712]{white-space:normal}.subtype__badge[data-v-ac83f712]{background-color:var(--darker);padding:4px 5px}.subtype__aware[data-v-ac83f712],.subtype__left[data-v-ac83f712],.subtype__mutation[data-v-ac83f712]{position:absolute;bottom:5px}.subtype__aware[data-v-ac83f712],.subtype__mutation[data-v-ac83f712]{border:1px solid var(--border);padding:0 5px}.subtype__left[data-v-ac83f712]{display:flex;flex-direction:row;align-items:flex-start}.subtype__mutation[data-v-ac83f712]{right:10px}.subtype__aware[data-v-ac83f712]{right:80px}.subtype__icon[data-v-ac83f712]{width:20px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isCreate)?_c('Create',{attrs:{\"value\":_vm.value,\"mode\":_vm.mode}}):_c('CruResource',{attrs:{\"resource\":_vm.value,\"mode\":_vm.realMode},on:{\"finish\":_vm.finish}},[_c('Config',{attrs:{\"value\":_vm.value,\"mode\":_vm.realMode}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { _CREATE, _EDIT } from '@shell/config/query-params';\nimport CreateEditView from '@shell/mixins/create-edit-view';\n\nimport CruResource from '@shell/components/CruResource';\nimport { removeEmptyAttrs } from '../utils/object';\nimport { handleGrowlError } from '../utils/handle-growl';\n\nimport Config from '../components/Policies/Config';\nimport Create from '../components/Policies/Create';\n\nexport default {\n  name: 'ClusterAdmissionPolicy',\n\n  props: {\n    value: {\n      type:     Object,\n      required: true\n    },\n\n    mode: {\n      type:    String,\n      default: _EDIT\n    },\n\n    realMode: {\n      type:    String,\n      default: _EDIT\n    }\n  },\n\n  components: {\n    CruResource, Config, Create\n  },\n\n  mixins: [CreateEditView],\n\n  provide() {\n    return { chartType: this.value.type, realMode: this.realMode };\n  },\n\n  computed: {\n    isCreate() {\n      return this.realMode === _CREATE;\n    },\n  },\n\n  methods: {\n    async finish(event) {\n      try {\n        removeEmptyAttrs(this.value);\n\n        await this.save(event);\n      } catch (e) {\n        handleGrowlError({ error: e, store: this.$store });\n      }\n    },\n  }\n};\n</script>\n\n<template>\n  <Create v-if=\"isCreate\" :value=\"value\" :mode=\"mode\" />\n  <CruResource\n    v-else\n    :resource=\"value\"\n    :mode=\"realMode\"\n    @finish=\"finish\"\n  >\n    <Config :value=\"value\" :mode=\"realMode\" />\n  </CruResource>\n</template>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./policies.kubewarden.io.clusteradmissionpolicy.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./policies.kubewarden.io.clusteradmissionpolicy.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./policies.kubewarden.io.clusteradmissionpolicy.vue?vue&type=template&id=9cfde542&\"\nimport script from \"./policies.kubewarden.io.clusteradmissionpolicy.vue?vue&type=script&lang=js&\"\nexport * from \"./policies.kubewarden.io.clusteradmissionpolicy.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PolicyGrid.vue?vue&type=style&index=0&id=ac83f712&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"befded50\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".clearfix[data-v-7ef7a36c]:after,.clearfix[data-v-7ef7a36c]:before{content:\\\" \\\";display:table}.clearfix[data-v-7ef7a36c]:after{clear:both}.list-unstyled[data-v-7ef7a36c]{margin:0;padding:0;list-style-type:none}.no-select[data-v-7ef7a36c]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-7ef7a36c]{resize:none}.hand[data-v-7ef7a36c]{cursor:pointer;cursor:hand}.fixed[data-v-7ef7a36c]{table-layout:fixed}.clip[data-v-7ef7a36c]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-7ef7a36c],.force-wrap[data-v-7ef7a36c]{word-wrap:break-word}.force-wrap[data-v-7ef7a36c]{white-space:normal}.bordered-section[data-v-7ef7a36c]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-7ef7a36c]{margin-bottom:20px;margin-top:20px}.step__values__controls[data-v-7ef7a36c]{display:flex;margin-bottom:15px}.step__values__controls[data-v-7ef7a36c]>:not(:last-of-type){margin-right:10px}.step__values__content[data-v-7ef7a36c],.step__values__controls--spacer[data-v-7ef7a36c]{flex:1}.step__values__content[data-v-7ef7a36c]  .tab-container{overflow:auto}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PolicyGrid.vue?vue&type=style&index=0&id=ac83f712&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Values.vue?vue&type=style&index=0&id=7ef7a36c&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Create.vue?vue&type=style&index=0&id=7912d636&prod&lang=scss&scoped=true&\""],"sourceRoot":""}